{"version":3,"file":"component---src-pages-supporting-infrastructure-batch-batch-streaming-mdx-78c2e1bd687f21cd300e.js","mappings":"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","sources":["webpack://spm-kubernetes/./src/pages/supporting-infrastructure/batch/batch-streaming.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/spm-kubernetes/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst Caption = makeShortcode(\"Caption\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst Row = makeShortcode(\"Row\");\nconst Column = makeShortcode(\"Column\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`How batch streaming is deployed in Kubernetes`}</h2>\n    <p>{`Merative Social Program Management (SPM) on Kubernetes supports a different model for batch processing in AKS, where, as outlined earlier, SPM batch processing can be built and deployed into its own pod.\nBy running SPM batch processing in its own pod, the pod can leverage the benefits of flexibility, elasticity, efficiency and the strategic value offered by cloud native architecture.`}</p>\n    <h3>{`What is batch streaming?`}</h3>\n    <p>{`The batch streaming infrastructure provides a straightforward mechanism to implement a batch process so that it can be run in parallel (streams) across multiple pods.\nFor example, if we wanted to issue payments, the chunker identifies all the cases to be paid and the stream would process a case and issue the payments that are due.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"702px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"54.513888888888886%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4ElEQVQoz12SW2/TQBCF/d/5FUgQHpD6VhoQSKAi2gqJAm2a5mJ713acyPZeEpL4tmt712sv2qStCqPzOJ/mnJmxZnHjIGmUVB5iHip9VMKkCDBbEB5gFmAWUu4h5iTCRdI1zeKIWC6WHlUe7SDigy/F6SWG7nRuz6uKa90nO3HhVKxp87Ky49qjLcDSI61HW48qy0UGdnELk2LkNyFp+65VSvV9r7W2V9nJFcmY2OfsPsztuHZiaUeNTzufagtgudh0DhKzZaaf1YHV26zy472QqqyMYbguJ1F0NZldA+CQjTVeiWmsAKrmC6rFbhJmH8b1NMxGcC2VVq1M9zut+4ILJ5EORefXn4afzz5+HY6Wd9a7GzYc1bMou/MT3bELu3jxvvhhby5vF43sVaeZMC4eYXx6dvLm5au3g8FP8Nu6XZrJLqqn4U5rzZsuZYqLngnjG6D69bddSGtem/WCdXG/Wn0fz345wMbUgsRkdpGcL9N/Mxs4SLLzEZkE2zRn4zC3o8ZN2nnU+OsuWGtzKp8qSJQbs74zyFHdYWFpKaZhird1wRs7qiBpARaQyMOp2oc7Q9rBhB+nPa+mqSlBWuvcZDYDD0/xoKcnUQDVaMPQH/6f8LbCW74iDDx2PsF/AT7iV6TQTyIMAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/0eda2/spm_batch_processing_on_kubernetes.webp 288w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/460e2/spm_batch_processing_on_kubernetes.webp 576w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/6a980/spm_batch_processing_on_kubernetes.webp 702w\"],\n          \"sizes\": \"(max-width: 702px) 100vw, 702px\",\n          \"type\": \"image/webp\"\n        }}></source>{`\n          `}<source parentName=\"picture\" {...{\n          \"srcSet\": [\"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/7fc1e/spm_batch_processing_on_kubernetes.png 288w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/a5df1/spm_batch_processing_on_kubernetes.png 576w\", \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/254b8/spm_batch_processing_on_kubernetes.png 702w\"],\n          \"sizes\": \"(max-width: 702px) 100vw, 702px\",\n          \"type\": \"image/png\"\n        }}></source>{`\n          `}<img parentName=\"picture\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"src\": \"/spm-kubernetes/static/2d95d0591a546fe9893ff6179ac54d2d/254b8/spm_batch_processing_on_kubernetes.png\",\n          \"alt\": \"spm batch on kubernetes\",\n          \"title\": \"spm batch on kubernetes\",\n          \"loading\": \"lazy\",\n          \"decoding\": \"async\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          }\n        }}></img>{`\n        `}</picture>{`\n    `}</span>\n    <Caption mdxType=\"Caption\">\n      <p><em parentName=\"p\">{`Figure 1:`}</em>{` SPM batch processing on kubernetes`}</p>\n    </Caption>\n    <p>{`For more information about batch streaming architecture, see `}<strong parentName=\"p\">{`Batch Streaming Architecture`}</strong>{` in the `}<em parentName=\"p\">{`Social Program Management Cúram Batch Performance Mechanisms`}</em>{`.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`The Social Program Management PDF documentation is available to download from `}<a parentName=\"p\" {...{\n          \"href\": \"https://curam-spm-devops.github.io/wh-support-docs/spm/pdf-documentation/\"\n        }}>{`Merative Support Docs`}</a>{`.`}</p>\n    </InlineNotification>\n    <h2>{`Setting up Batch Streaming with Helm`}</h2>\n    <p>{`Streamed jobs may be scheduled using Helm the same way as standalone Batch jobs.`}</p>\n    <p>{`In your override values file, add a section under the `}<inlineCode parentName=\"p\">{`batch.streamed`}</inlineCode>{` key for each of the streamed jobs to be scheduled.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`batch:\n  streamed:\n    cash_reassessment:\n      schedule: \"0 1 * * *\"\n      chunker:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n        parameters: productID=4100\n        replicaCount: 1\n      stream:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n        replicaCount: 1\n    food_reassessment:\n      schedule: \"0 2 * * */2\"\n      chunker:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n        parameters: productID=4200\n        replicaCount: 1\n      stream:\n        className: curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n        replicaCount: 1\n`}</code></pre>\n    <p>{`This example schedules Cash Assistance bulk reassessment to run at 1 AM every night, and Food Assistance bulk reassessment to run at 2 AM every second night.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`cash_reassessment`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`food_reassessment`}</inlineCode>{` keys have no special meaning - their purpose is to provide separate definitions of different batch jobs.\nThese keys are used in names of the CronJob objects, e.g. `}<inlineCode parentName=\"p\">{`<releaseName>-batch-food-reassessment-chunker`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`<releaseName>-batch-food-reassessment-stream`}</inlineCode></p>\n    <p>{`A complete list of configurable options for the chunkers and streams is available on the Helm `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/config-reference#batch-jobs\"\n      }}>{`Configuration Reference`}</a>{` page.`}</p>\n    <h2>{`Ad-hoc execution of Batch Streaming jobs`}</h2>\n    <p>{`An example for the steps required to set up Batch Streaming is outlined as follows.\nThis example uses the bulk reassessment of food assistance case types.`}</p>\n    <p>{`The first stage is to set up a new YAML file for the streaming and chunking batch processing.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` No SPM default installation settings were changed.`}</p>\n    </InlineNotification>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create job --from=cronjob/\\${release_name}-batch-queued \\\\\n       -n $namespace -o yaml --dry-run=client process_name > process_name.yaml\n`}</code></pre>\n    <p>{`Where:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`namespace`}</inlineCode>{` is the namespace where you want to run the batch processing`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`release_name`}</inlineCode>{` is the name of the release you are using`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`process_name`}</inlineCode>{` is the name of the batch process you are creating`}</li>\n    </ul>\n    <p>{`You should also create a new file for each process, for example `}<inlineCode parentName=\"p\">{`stream_foodassistance.yaml`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`chunker_foodassistance.yaml`}</inlineCode></p>\n    <p>{`A corresponding YAML file is created. Open it with your preferred editor and add the following lines to the `}<inlineCode parentName=\"p\">{`spec.template.spec.containers[0]`}</inlineCode>{` section:`}</p>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"Chunker\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`args:\n- -Dbatch.program=curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentByProduct.process\n- -Dbatch.parameters=\"productID=4200\"\n`}</code></pre>\n            <p><strong parentName=\"p\">{`Note:`}</strong>{` The `}<inlineCode parentName=\"p\">{`args`}</inlineCode>{` key should become a sibling of the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` key.`}</p>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Stream\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`args:\n- -Dbatch.program=curam.core.sl.infrastructure.assessment.intf.CREOLEBulkCaseChunkReassessmentStream.process\n`}</code></pre>\n            <p><strong parentName=\"p\">{`Note:`}</strong>{` The `}<inlineCode parentName=\"p\">{`args`}</inlineCode>{` key should become a sibling of the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` key.`}</p>\n          </Column>\n        </Row>\n      </Tab>\n    </Tabs>\n    <p>{`You should now have YAML files for a chunker and streamer for bulk reassessment of food assistance case types.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`Newer versions of `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{` add a `}<inlineCode parentName=\"p\">{`metadata.ownerReferences`}</inlineCode>{` field to the output of `}<inlineCode parentName=\"p\">{`kubectl create job --from=...`}</inlineCode>{`.\nThis field must be removed before creating the new jobs from these YAML files.`}</p>\n    </InlineNotification>\n    <h3>{`Running batch streaming yaml files`}</h3>\n    <p>{`To orchestrate the batch process, run the following command and repeat for the chunker and streamer.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`kubectl create -f stream_foodassistance.yaml -n $namespace\nkubectl create -f chunker_foodassistance.yaml -n $namespace\n`}</code></pre>\n    <h3>{`Post batch processing`}</h3>\n    <p>{`The batch pods that are created for batch streaming are on demand.`}</p>\n    <p>{`When the batch processes finish, the pods remain in a `}<inlineCode parentName=\"p\">{`completed`}</inlineCode>{` state.\nWhile this does not consume CPU or Memory resources on the worker nodes of your cluster, this may place added pressure on the Kubernetes API server`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`A `}<a parentName=\"p\" {...{\n          \"href\": \"https://kubernetes.io/docs/concepts/workloads/controllers/ttlafterfinished/\"\n        }}>{`TTL Controller for Finished Resources`}</a>{` is available in Kubernetes, which will automatically clean up any completed pods after a specified length of time.\nHowever, this feature is in Alpha state and has to be enabled using a feature flag on both the `}<inlineCode parentName=\"p\">{`kube-apiserver`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`kube-controller-manager`}</inlineCode>{`.`}</p>\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` It is not recommended to use Alpha features in a production environment.`}</p>\n    </InlineNotification>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","Caption","InlineNotification","Tabs","Tab","Row","Column","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","Object","assign","mdxType","parentName","label","isMDXComponent"],"sourceRoot":""}