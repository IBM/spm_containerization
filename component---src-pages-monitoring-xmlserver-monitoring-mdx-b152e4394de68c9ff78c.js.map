{"version":3,"file":"component---src-pages-monitoring-xmlserver-monitoring-mdx-b152e4394de68c9ff78c.js","mappings":"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","sources":["webpack://spm-kubernetes/./src/pages/monitoring/xmlserver-monitoring.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/spm-kubernetes/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst Row = makeShortcode(\"Row\");\nconst Column = makeShortcode(\"Column\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h2>{`Introduction`}</h2>\n    <p>{`Monitoring of the XML server is available through:`}</p>\n    <ul>\n      <li parentName=\"ul\"><img parentName=\"li\" {...{\n          \"src\": \"https://img.shields.io/badge/-SPM_8.0.1.0-green\",\n          \"alt\": \"SPM 8.0.1.0\"\n        }}></img>{` The XML server statistics, described in `}<a parentName=\"li\" {...{\n          \"href\": \"#monitoring-xml-server-statistics\"\n        }}>{`Monitoring XML server statistics`}</a></li>\n      <li parentName=\"ul\">{`The JVM that the XML server runs on, described in `}<a parentName=\"li\" {...{\n          \"href\": \"#monitoring-the-xml-server-jvm\"\n        }}>{`Monitoring the XML server JVM`}</a></li>\n      <li parentName=\"ul\"><img parentName=\"li\" {...{\n          \"src\": \"https://img.shields.io/badge/-SPM_8.1.0.0-green\",\n          \"alt\": \"SPM 8.1.0.0\"\n        }}></img>{` Health checks, described in `}<a parentName=\"li\" {...{\n          \"href\": \"#xml-server-health-checks\"\n        }}>{`XML server health checks`}</a></li>\n    </ul>\n    <h2>{`Monitoring XML server statistics`}</h2>\n    <p>{`SPM XML servers produce statistics for each job processed. For more information about XML server architecture, see `}<strong parentName=\"p\">{`XML server architecture`}</strong>{` in the `}<em parentName=\"p\">{`Social Program Management XML Infrastructure Guide`}</em>{`.`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p>{`The Social Program Management PDF documentation is available to download from `}<a parentName=\"p\" {...{\n          \"href\": \"https://curam-spm-devops.github.io/wh-support-docs/spm/pdf-documentation/\"\n        }}>{`Merative Support Docs`}</a>{`.`}</p>\n    </InlineNotification>\n    <p>{`Out-of-the-box these statistics are written to text files in the `}<inlineCode parentName=\"p\">{`/opt/ibm/Curam/xmlserver/stats/`}</inlineCode>{` folder but are not directly accessible to Prometheus or other monitoring tools.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"https://img.shields.io/badge/-SPM_8.0.1.0-green\",\n        \"alt\": \"SPM 8.0.1.0\"\n      }}></img>{` This topic describes a sample implementation to make XML server statistics available to Prometheus.\nThe ability to access XML server statistics in a Kubernetes deployment requires using the XML server `}<inlineCode parentName=\"p\">{`-forcestatswrite`}</inlineCode>{` start option.`}</p>\n    <p>{`This option is only available in SPM V8.0.1 or higher. For more information about Statistics and starting the XML server, see `}<strong parentName=\"p\">{`Statistics`}</strong>{` and `}<strong parentName=\"p\">{`Starting the XML server`}</strong>{` in the `}<em parentName=\"p\">{`Social Program Management XML Infrastructure Guide`}</em>{`.`}</p>\n    <h3>{`Sample implementation`}</h3>\n    <p>{`The sample implementation is based on a proof-of-concept performed to illustrate the capability.\nArtifacts used for the proof-of-concept are provided as samples in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/merative/spm-kubernetes\"\n      }}>{`GitHub repo`}</a>{`.`}</p>\n    <p>{`Notable decisions and limitations used in performing the proof-of-concept:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The Prometheus `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/prometheus/client_java\"\n        }}>{`client_java`}</a>{` is used for implementing the Prometheus collector and exporter, hence it is coded in Java.`}</li>\n      <li parentName=\"ul\">{`A sidecar container is used to run the Prometheus collector and exporter as this allows for:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Avoiding making any Kubernetes or Prometheus-specific code changes to the XML server code base. This is achieved by the use of persistent storage, which is described in more detail `}<a parentName=\"li\" {...{\n              \"href\": \"#the-role-of-persistent-storage-in-monitoring-xml-server-statistics\"\n            }}>{`below`}</a></li>\n          <li parentName=\"ul\">{`Avoiding additional processes in the xmlserver pod, which could impact on the main xmlserver process.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`At a high-level, providing XML server statistics to Prometheus involves the following steps:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Implementing a Prometheus collector and exporter to make the  `}<inlineCode parentName=\"li\">{`/opt/ibm/Curam/xmlserver/stats/ThreadPoolWorker-*`}</inlineCode>{` file contents available to Prometheus`}</li>\n      <li parentName=\"ul\">{`Creating a Docker image for the sidecar container that contains the Prometheus collector and exporter`}</li>\n      <li parentName=\"ul\">{`Defining a sidecar container in the `}<inlineCode parentName=\"li\">{`xmlserver`}</inlineCode>{` deployment`}</li>\n      <li parentName=\"ul\">{`Defining the necessary Prometheus configuration for the Kubernetes cluster. The sample deployment provided utilizes the OpenShift PodMonitor.`}</li>\n    </ul>\n    <h4>{`The role of persistent storage in monitoring XML server statistics`}</h4>\n    <p>{`Persistent storage is required by this sample implementation so that:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` sidecar container has access to the same persistent file system as the `}<inlineCode parentName=\"li\">{`xmlserver`}</inlineCode>{` container.`}</li>\n      <li parentName=\"ul\">{`As the XML server writes statistics to the files in its `}<inlineCode parentName=\"li\">{`./stats`}</inlineCode>{` folder those same statistics records are available to the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` sidecar.`}</li>\n      <li parentName=\"ul\">{`No changes are required to the XML server code base or the `}<inlineCode parentName=\"li\">{`xmlserver`}</inlineCode>{` container.`}</li>\n    </ul>\n    <p>{`The following describes the files involved in the use of persistent storage and how they interact:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`For the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` container `}<inlineCode parentName=\"li\">{`dockerfiles/Liberty/xmlserver-metrics/XMLServer-metrics.Dockerfile`}</inlineCode>{` creates the `}<inlineCode parentName=\"li\">{`/opt/ibm/Curam/xmlserver/`}</inlineCode>{` folder and the `}<inlineCode parentName=\"li\">{`./tmp`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`./stats`}</inlineCode>{` subfolders in its local file system.`}</li>\n      <li parentName=\"ul\">{`In `}<inlineCode parentName=\"li\">{`helm-charts/xmlserver/templates/deployment.yaml`}</inlineCode>{` the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` container defines the same `}<inlineCode parentName=\"li\">{`volumeMounts:`}</inlineCode>{` as the `}<inlineCode parentName=\"li\">{`xmlserver`}</inlineCode>{` container and they both reference the deployment’s `}<inlineCode parentName=\"li\">{`persistentVolumeClaim:`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`In the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` container the `}<inlineCode parentName=\"li\">{`start-prometheus_collector_exporter.sh`}</inlineCode>{` startup shell script ensures the persistent mountpoint is available\nand creates symbolic links from the container’s file system to the persistent file system.`}</li>\n    </ul>\n    <p>{`More details on the above files can be found in the relevant sections that follow.`}</p>\n    <h3>{`Prometheus collector and exporter`}</h3>\n    <p>{`This section describes the Prometheus collector and exporter code provided in the `}<inlineCode parentName=\"p\">{`xmlserver_prometheus.jar`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`xmlserver_prometheus-sources.jar`}</inlineCode>{` files that reside in the `}<inlineCode parentName=\"p\">{`dockerfiles/Liberty/xmlserver-metrics/`}</inlineCode>{` folder.\nYou may find the following information useful in understanding the sample implementation and how to develop an implementation suitable for your specific environment and use of the XML server.`}</p>\n    <h4>{`Choosing XML server statistics`}</h4>\n    <p>{`For more information about Statistics and starting the XML server, see `}<strong parentName=\"p\">{`Statistics`}</strong>{` in the `}<em parentName=\"p\">{`Social Program Management XML Infrastructure Guide`}</em>{`.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Statistic`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Success`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`true`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`false`}</inlineCode>{` (failed)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Job preview type`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`PDF`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`HTML`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`TEXT`}</inlineCode>{`, `}<inlineCode parentName=\"td\">{`RTF`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Elapsed connection`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`elapsed time (milliseconds) from connection start to connection close`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Elapsed job`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`job run time (milliseconds)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Elapsed job preview send`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`time (milliseconds) to send the preview data to the client`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Job preview data length`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`length of the preview data (in bytes) sent to the client`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Timestamp`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`timestamp (Java timestamp value) when the secure connection entered the system`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Template ID`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`template ID processed`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Template version`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`template version number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Template locale`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`locale of the template`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`For purposes of the proof-of-concept we used these statistics as being illustrative:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Success - reported as success or failure`}</li>\n      <li parentName=\"ul\">{`Job type - PDF, HTML, TEXT, and RTF`}</li>\n      <li parentName=\"ul\">{`Elapsed connection`}</li>\n      <li parentName=\"ul\">{`Job preview data length`}</li>\n    </ul>\n    <p>{`Your own requirements, depending on your application usage, etc. may differ.`}</p>\n    <h4>{`Coding the Prometheus metric variables`}</h4>\n    <p>{`These Prometheus client_java APIs illustrate coding of the above proof-of-concept statistics:`}</p>\n    <p><strong parentName=\"p\">{`Jobs run:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`  /** Prometheus counter - of xmlserver jobs. */\n  private static final Counter jobTotals = Counter.build()\n      .namespace(\"curam_xmlserver\")\n      .name(\"jobs_total\")\n      .help(\"Job counts with labels for status=success|fail ; type=PDF|HTML|TEXT|RTF\")\n      .labelNames(\"status\", \"type\")\n      .register();\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Job elapsed, or connect, time:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`  /** Prometheus histogram - job connect time. */\n  static final Histogram jobConnectTime = Histogram.build()\n      .namespace(\"curam_xmlserver\")\n      .name(\"job_connect_seconds\")\n      .help(\"Job connect time\")\n      .buckets(0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9,\n               1.0, 1.5, 2.0, 2.5, 3.0, 4.0, 5.0) \n      .register();\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Job bytes processed:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{}}>{`  /** Prometheus histogram - job data length. */\n  static final Histogram jobDataLength = Histogram.build()\n      .namespace(\"curam_xmlserver\")\n      .name(\"job_data_length_bytes\")\n      .help(\"Job preview data length\")\n      .buckets(5000, 7000, 9000, 10000, 12000, 14000, 15000, \n               20000, 25000, 30000, 35000, 50000)\n      .register();\n`}</code></pre>\n    <h4>{`Java code for the Prometheus collector and exporter`}</h4>\n    <p>{`This is a high-level, pseudo-code description of the Java implementation of the Prometheus collector and exporter:`}</p>\n    <p><inlineCode parentName=\"p\">{`main()`}</inlineCode>{` method:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Process optional arguments`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`-httpPort <port>`}</inlineCode>{` - Port that Prometheus will listen on.  Defaults to: `}<inlineCode parentName=\"li\">{`8080`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`-checkInterval <seconds>`}</inlineCode>{` - Number of seconds between checks for data in the `}<inlineCode parentName=\"li\">{`./stats/`}</inlineCode>{` folder to check for termination. Defaults to: `}<inlineCode parentName=\"li\">{`10`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`Start the collector thread`}</li>\n      <li parentName=\"ul\">{`Start the exporter thread`}</li>\n    </ul>\n    <p>{`Collector thread:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Identify all `}<inlineCode parentName=\"li\">{`ThreadPoolWorker-*`}</inlineCode>{` files in the `}<inlineCode parentName=\"li\">{`./stats`}</inlineCode>{` folder`}</li>\n      <li parentName=\"ul\">{`While the thread is not interrupted`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Iterate over each file`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\">{`If there is content`}\n                <ul parentName=\"li\">\n                  <li parentName=\"ul\">{`If the content has not been previously read`}\n                    <ul parentName=\"li\">\n                      <li parentName=\"ul\">{`Create a `}<inlineCode parentName=\"li\">{`java.io.RandomAccessFile`}</inlineCode>{` in read mode`}</li>\n                      <li parentName=\"ul\">{`Bypass previously read content`}</li>\n                      <li parentName=\"ul\">{`Process each new line in the file`}\n                        <ul parentName=\"li\">\n                          <li parentName=\"ul\">{`Call the `}<inlineCode parentName=\"li\">{`io.prometheus.client.Counter.inc()`}</inlineCode>{` method to increment status (`}<inlineCode parentName=\"li\">{`success`}</inlineCode>{`|`}<inlineCode parentName=\"li\">{`fail`}</inlineCode>{`) and type (`}<inlineCode parentName=\"li\">{`PDF`}</inlineCode>{`|`}<inlineCode parentName=\"li\">{`HTML`}</inlineCode>{`|`}<inlineCode parentName=\"li\">{`TEXT`}</inlineCode>{`|`}<inlineCode parentName=\"li\">{`RTF`}</inlineCode>{`)`}</li>\n                          <li parentName=\"ul\">{`Call the `}<inlineCode parentName=\"li\">{`io.prometheus.client.Histogram.observe(double amt)`}</inlineCode>{` method for elapsed time`}</li>\n                          <li parentName=\"ul\">{`Call the `}<inlineCode parentName=\"li\">{`io.prometheus.client.Histogram.observe(double amt)`}</inlineCode>{` method for bytes processed`}</li>\n                        </ul>\n                      </li>\n                      <li parentName=\"ul\">{`Record the new number of bytes read from the file`}</li>\n                    </ul>\n                  </li>\n                </ul>\n              </li>\n              <li parentName=\"ul\">{`Sleep for the specified interval`}</li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Exporter thread:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Using the specified port create a new `}<inlineCode parentName=\"li\">{`io.prometheus.client.exporter.HTTPServer.HTTPServer(int port)`}</inlineCode></li>\n    </ul>\n    <h3>{`Creating the Docker image for the sidecar container`}</h3>\n    <p>{`In support of building the sidecar Docker image the following files are included in the `}<inlineCode parentName=\"p\">{`dockerfiles/Liberty/xmlserver-metrics`}</inlineCode>{` folder of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/merative/spm-kubernetes\"\n      }}>{`GitHub repo`}</a>{`:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`.Dockerfile`}</inlineCode>{` that builds the image: `}<inlineCode parentName=\"li\">{`XMLServer-metrics.Dockerfile`}</inlineCode></li>\n      <li parentName=\"ul\">{`The sample proof-of-concept implementation executable, `}<inlineCode parentName=\"li\">{`xmlserver_prometheus.jar`}</inlineCode>{`, and source, `}<inlineCode parentName=\"li\">{`xmlserver_prometheus-sources.jar`}</inlineCode></li>\n      <li parentName=\"ul\">{`The start shell script, `}<inlineCode parentName=\"li\">{`./xmlserver-metrics/start-prometheus_collector_exporter.sh`}</inlineCode>{`, invoked by the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` deployment’s `}<inlineCode parentName=\"li\">{`cmd:`}</inlineCode>{` structure and when invoked:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Ensures the persistent storage mount point is available and the expected directories exist.`}</li>\n          <li parentName=\"ul\">{`Starts the Prometheus collector/exporter Java program in the background.`}</li>\n          <li parentName=\"ul\">{`Waits for the Java program to terminate and logs the end of the process.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`The stop shell script, `}<inlineCode parentName=\"li\">{`./xmlserver-metrics/stop-prometheus_collector_exporter.sh`}</inlineCode>{`, invoked by the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` deployment’s `}<inlineCode parentName=\"li\">{`lifecycle:`}</inlineCode>{` structure and when invoked:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Cleans up the `}<inlineCode parentName=\"li\">{`.pid`}</inlineCode>{` file created when the Java process was started.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h4>{`Building the Docker image`}</h4>\n    <p>{`Building the `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` image uses a similar process to building the other Docker images.\nTo build the sidecar image run the following commands:`}</p>\n    <InlineNotification mdxType=\"InlineNotification\">\n      <p><strong parentName=\"p\">{`Note:`}</strong>{` In the following commands, the value of `}<inlineCode parentName=\"p\">{`$PROJECT`}</inlineCode>{` will change depending on deployment type:`}</p>\n      <ul>\n        <li parentName=\"ul\">{`For a Minikube deployment the value of `}<inlineCode parentName=\"li\">{`$PROJECT`}</inlineCode>{` is arbitrary.`}</li>\n        <li parentName=\"ul\">{`For a Kubernetes deployment the value of `}<inlineCode parentName=\"li\">{`$PROJECT`}</inlineCode>{` must equate to a valid namespace in the customer’s account.`}</li>\n        <li parentName=\"ul\">{`For an OpenShift deployment the value of `}<inlineCode parentName=\"li\">{`$PROJECT`}</inlineCode>{` must equate to a valid project.\nFor this runbook it is best to stick with the value chosen for `}<inlineCode parentName=\"li\">{`$PROJECT`}</inlineCode>{` in `}<a parentName=\"li\" {...{\n            \"href\": \"/spm-kubernetes/prereq/openshift/codeready-containers#creating-a-crc-project\"\n          }}>{`Creating a CRC project`}</a>{`.`}</li>\n      </ul>\n    </InlineNotification>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"Using RedHat Registry\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`cd $SPM_HOME/dockerfiles/Liberty/\ndocker build \\\\\n     --tag $DOCKER_REGISTRY/$PROJECT/xmlserver-metrics:latest \\\\\n     --build-arg \"BASE_REGISTRY=registry.connect.redhat.com/\" \\\\\n     --file xmlserver-metrics/XMLServer-metrics.Dockerfile .\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Unauthenticated / Local image\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`cd $SPM_HOME/dockerfiles/Liberty/\ndocker build \\\\\n     --tag $DOCKER_REGISTRY/$PROJECT/xmlserver-metrics:latest \\\\\n     --file xmlserver-metrics/XMLServer-metrics.Dockerfile .\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Using RedHat Registry (Windows PS)\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-powershell\"\n              }}>{`cd $env:SPM_HOME\\\\dockerfiles\\\\Liberty\\\\\ndocker build \\`\n     --tag $env:DOCKER_REGISTRY/$env:PROJECT/xmlserver-metrics:latest \\`\n     --build-arg \"BASE_REGISTRY=registry.redhat.io/\" \\`\n     --file xmlserver-metrics\\\\XMLServer-metrics.Dockerfile .\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Unauthenticated / Local image (Windows PS)\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-powershell\"\n              }}>{`cd $env:SPM_HOME\\\\dockerfiles\\\\Liberty\\\\\ndocker build \\`\n     --tag $env:DOCKER_REGISTRY/$env:PROJECT/xmlserver-metrics:latest \\`\n     --file xmlserver-metrics\\\\XMLServer-metrics.Dockerfile .\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n    </Tabs>\n    <h3>{`Deploying the sidecar container and configuring for Prometheus`}</h3>\n    <p>{`Sample files are provided to define the sidecar and Prometheus configuration and `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` is only installed by Helm when these settings are provided:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.apps.common.persistence.enabled: true`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.useBetaFeatures: true`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`xmlserver.metrics.enabled: true`}</inlineCode></li>\n    </ul>\n    <p>{`For more information see the `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/config-reference#xml-server\"\n      }}>{`XML Server Configuration Reference`}</a>{`.`}</p>\n    <p>{`The following files are included in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/merative/spm-kubernetes/tree/main/helm-charts/xmlserver\"\n      }}>{`helm-charts/xmlserver/`}</a>{`\nfolder of the GitHub repo for deploying the `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` sidecar container and configuring it for the XML server:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`./templates/deployment.yaml`}</inlineCode>{` - defines the `}<inlineCode parentName=\"li\">{`xmlserver-metrics`}</inlineCode>{` sidecar`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`./templates/monitor-xmlserver.yaml`}</inlineCode>{` - defines a `}<inlineCode parentName=\"li\">{`PodMonitor`}</inlineCode></li>\n    </ul>\n    <p>{`The Prometheus port, `}<inlineCode parentName=\"p\">{`xmlmetrics`}</inlineCode>{`, referenced in both deployment files defaults to `}<inlineCode parentName=\"p\">{`8080`}</inlineCode>{`.`}</p>\n    <h3>{`Confirming the status of the xmlserver-metrics container`}</h3>\n    <p>{`Once deployed, a Kubernetes `}<inlineCode parentName=\"p\">{`get pods`}</inlineCode>{` command will show how many of the containers are ready. For the `}<inlineCode parentName=\"p\">{`xmlserver`}</inlineCode>{` deployment it should show `}<inlineCode parentName=\"p\">{`2/2`}</inlineCode>{` (two of two) ready.`}</p>\n    <p>{`For deployment issues use the Kubernetes `}<inlineCode parentName=\"p\">{`describe`}</inlineCode>{` command against the pod to confirm the deployment of the `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` container.`}</p>\n    <p>{`You can view the `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` stdout using the Kubernetes `}<inlineCode parentName=\"p\">{`logs`}</inlineCode>{` command and you must use `}<inlineCode parentName=\"p\">{`-c xmlserver-metrics`}</inlineCode>{` on the command to specify the container; otherwise, it defaults to the `}<inlineCode parentName=\"p\">{`xmlserver`}</inlineCode>{` container.\nWhile the `}<inlineCode parentName=\"p\">{`xmlserver-metrics`}</inlineCode>{` container is running log4j output is written to `}<inlineCode parentName=\"p\">{`StatsForPrometheus.log`}</inlineCode>{` in the pod’s persistent `}<inlineCode parentName=\"p\">{`tmp`}</inlineCode>{` folder: `}<inlineCode parentName=\"p\">{`/opt/ibm/Curam/xmlserver/tmp`}</inlineCode>{`.`}</p>\n    <h3>{`Interacting with the XML server statistics`}</h3>\n    <p>{`While ultimately you will want to view the XML server statistics in Prometheus or Grafana (not covered here), command line interactions are useful for testing and quickly getting performance indicators.`}</p>\n    <p>{`For instance:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Using the `}<inlineCode parentName=\"li\">{`curl`}</inlineCode>{` command in a pod’s shell you can get the current metrics (remember that with two containers your Kubernetes `}<inlineCode parentName=\"li\">{`exec`}</inlineCode>{` command must use `}<inlineCode parentName=\"li\">{`-c xmlserver-metrics`}</inlineCode>{` to enter the correct shell), for example:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`curl -s http://localhost:8080/metrics`}</inlineCode>{` - displays all the Prometheus data and help text`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`curl -s http://localhost:8080/metrics | grep \"curam_xmlserver_jobs_total.status=.success\"`}</inlineCode>{` - displays the count of successful XML server jobs`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`curl -s http://localhost:8080/metrics | grep \"curam_xmlserver_jobs_total.status\"`}</inlineCode>{` - displays the count of successful and failed jobs`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h2>{`Monitoring the XML server JVM`}</h2>\n    <p>{`The performance of the Java Virtual Machine (JVM) running the XML server directly impacts the performance of the XML server.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`xmlserver`}</inlineCode>{` image includes the Prometheus JMX Exporter and you can configure your deployment to enable monitoring of the XML server JVM. Your Helm override file needs to specify the following to enable the monitoring:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`global.useBetaFeatures: true`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`xmlserver.jvmStats.enabled: true`}</inlineCode></li>\n    </ul>\n    <p>{`Additionally you can configure the port and JMX Exporter configuration. This is the default configuration:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`xmlserver.jvmStats.port: 8083`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`xmlserver.jvmStats.configYaml: ''`}</inlineCode></li>\n    </ul>\n    <p>{`How you configure the JMX Exporter will depend upon how you consume the data.  For reference:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`See the Prometheus JMX Exporter `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/prometheus/jmx_exporter#configuration\"\n        }}>{`configuration documentation`}</a></li>\n      <li parentName=\"ul\">{`See this sample `}<a parentName=\"li\" {...{\n          \"href\": \"https://grafana.com/grafana/dashboards/3066\"\n        }}>{`Grafana JVM dashboard`}</a></li>\n    </ul>\n    <h2>{`XML server health checks`}</h2>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"https://img.shields.io/badge/-SPM_8.1.0.0-green\",\n        \"alt\": \"SPM 8.1.0.0\"\n      }}></img>{` A readiness and liveness probe are available for xmlserver deployments.\nThese probes complement each other to ensure the xmlserver service is not accessed until it is ready and remains available.`}</p>\n    <p>{`In support of the probes a folder, `}<inlineCode parentName=\"p\">{`xmlserverprobes`}</inlineCode>{` has been added to the `}<inlineCode parentName=\"p\">{`/opt/ibm/Curam/xmlserver`}</inlineCode>{` folder in `}<inlineCode parentName=\"p\">{`xmlserver`}</inlineCode>{` containers.`}</p>\n    <p>{`To enable these probes you need to enable them in your Helm override file.\nDepending on your local environment you may need to adjust the timing values to achieve successful operation.\nSee the `}<a parentName=\"p\" {...{\n        \"href\": \"/spm-kubernetes/deployment/config-reference#xml-server\"\n      }}>{`XML Server Configuration Reference`}</a>{` topic and the K8s\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/\"\n      }}>{`Configure Liveness, Readiness and Startup Probes`}</a>{` page for more information.`}</p>\n    <h3>{`readinessProbe`}</h3>\n    <p>{`The readinessProbe depends on this info level log4j message: ”`}<inlineCode parentName=\"p\">{`XML Server awaiting connections on port`}</inlineCode>{`”. Thus, if you have modified the default `}<inlineCode parentName=\"p\">{`xmlserver`}</inlineCode>{` log4j configuration to suppress this message you cannot use the readinessProbe.`}</p>\n    <h3>{`livenessProbe`}</h3>\n    <p>{`The livenessProbe adds messages such as these to the `}<inlineCode parentName=\"p\">{`/opt/ibm/Curam/xmlserver/tmp/xmlserver.log`}</inlineCode>{` file for each probe invocation (default 30 seconds):`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`[xmlserver] [INFO] [XMLConnectionHandler] Mon Apr 03 12:28:02 BST 2023 Connection received.\n[xmlserver] [INFO] [XMLConnectionHandler] Awaiting job configuration.\n[xmlserver] [INFO] [XMLConnectionHandler] Probe check received.\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","InlineNotification","Tabs","Tab","Row","Column","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","Object","assign","mdxType","parentName","label","isMDXComponent"],"sourceRoot":""}