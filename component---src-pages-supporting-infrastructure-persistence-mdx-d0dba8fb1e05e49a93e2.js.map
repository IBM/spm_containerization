{"version":3,"file":"component---src-pages-supporting-infrastructure-persistence-mdx-d0dba8fb1e05e49a93e2.js","mappings":"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","sources":["webpack://spm-kubernetes/./src/pages/supporting-infrastructure/Persistence.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/spm-kubernetes/spm-kubernetes/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst Tabs = makeShortcode(\"Tabs\");\nconst Tab = makeShortcode(\"Tab\");\nconst Row = makeShortcode(\"Row\");\nconst Column = makeShortcode(\"Column\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h3>{`What is Persistence Storage?`}</h3>\n    <p>{`In Kubernetes, any data stored within the application pods is typically lost when the container terminates.`}</p>\n    <p>{`Persistent storage addresses this challenge by providing the ability to store and access data in a durable and consistent manner across container deployments, even when the containers are rescheduled, restarted, or replaced.`}</p>\n    <p>{`Using persistent storage, the applications running in Kubernetes clusters can retain data beyond the lifespan of individual containers.\nThis ensures that information such as files, logs, and generated content, remains intact and accessible even if containers are destroyed or recreated.`}</p>\n    <p>{`For more information about persistent storage, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://aws.amazon.com/blogs/storage/persistent-storage-for-kubernetes/\"\n      }}>{`Persistent storage for Kubernetes`}</a>{`.`}</p>\n    <h3>{`Using Persistent Storage in SPM`}</h3>\n    <p>{`There is a wide range of choices provided by various Cloud providers for utilising persistent storage in order to store and access information using Merative SPM on Kubernetes.`}</p>\n    <p>{`The common types of storage are Block Storage which controls data on devices, `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.oracle.com/en-us/iaas/Content/File/Concepts/filestorageoverview.htm\"\n      }}>{`File Storage`}</a>{` which is using the NFS and SMB protocols, or `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.oracle.com/en-us/iaas/Content/Object/Concepts/objectstorageoverview.htm\"\n      }}>{`Object Storage`}</a>{` for unstructured data such as COS, AWS S3, and Azure Blob.`}</p>\n    <p>{`Choosing the appropriate method for enabling persistent storage in the SPM application on Kubernetes depends on number of factors:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`the availability of services offered by the Cloud provider`}</li>\n      <li parentName=\"ul\">{`the version of the Kubernetes or OpenShift cluster`}</li>\n      <li parentName=\"ul\">{`the compatibility and support provided by the selected platform.`}</li>\n    </ul>\n    <p>{`Typically, the primary options for achieving persistence are File Storage and Object Storage.`}</p>\n    <h4>{`File Storage`}</h4>\n    <p>{`File Storage is a storage method that stores data in a hierarchical structure, within folders as a single unit of information.\nIt is widely accessible and offers relatively fast performance. File storage is typically leveraging protocols such as Network File System (NFS) and Server Message Block (SMB).\nSome notable implementations of File Storage include IBM Cloud File Storage (CFS), Amazon Elastic File System (EFS), and Azure File Service (AFS).`}</p>\n    <h4>{`Object Storage`}</h4>\n    <p>{`Object Storage enables the storage of vast amounts of data in a straightforward and cost-effective manner.\nIn Azure, you can utilize Azure Blob Storage to access object storage, which is configured within a Premium Storage Account.\nWhile Azure Blob Storage shares similarities with IBM Cloud Object Storage (COS) and Amazon S3 (S3), it does not offer support for the S3FS protocol interface.`}</p>\n    <h3>{`Usage`}</h3>\n    <p>{`The following sample configurations are examples showing how to create Persistence Volume dynamically during the deployment of SPM on Kubernetes.`}</p>\n    <Tabs mdxType=\"Tabs\">\n      <Tab label=\"Azure File Service\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <p>{`To archive data persistently through `}<a parentName=\"p\" {...{\n                \"href\": \"https://learn.microsoft.com/en-us/azure/aks/azure-files-csi\"\n              }}>{`Azure File Service Storage`}</a>{`, prepare the following prerequisites in the Kubernetes cluster and in your Azure subscription:`}</p>\n            <ul>\n              <li parentName=\"ul\">{`On Azure, create a storage account of type Premium`}</li>\n              <li parentName=\"ul\">{`Within the storage account, create a Azure File Service instance, and take note of the name as “AccountName”`}</li>\n              <li parentName=\"ul\">{`In the Azure File Service instance, in the Access Keys section, create a new key, and take note of the name as “AccountKey” (alternatively create a SAS token)`}</li>\n              <li parentName=\"ul\">{`Navigate to the Azure File Service instance, create a File Share, select the protocol as ‘SMB’, and take note of the name as “file-share-smb”`}</li>\n              <li parentName=\"ul\">{`Encode the values of “AccountName” and “AccountKey” (or SAS token) in Base64 and add the following section to your override-values.yaml file with the correct values inputted`}</li>\n              <li parentName=\"ul\">{`Enter the properties as illustrated in the example below`}</li>\n            </ul>\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\",\n                \"metastring\": \"path=override-values.yaml\",\n                \"path\": \"override-values.yaml\"\n              }}>{`---\nglobal:\n  apps:\n    common:\n      persistence:\n        ## Persistence volume to store data (such as non-log files)\n        enabled: false\n        ## If enabled, connects to a persistence storage service\n        credentials:\n          azurestorageaccountname: \"AccountName (encoded in Base64)\"\n          azurestorageaccountkey: \"AccountKey (encoded in Base64)\"\n        storageClassName: \"azureblob-fuse-premium\"\n        storageCapacity: \"10Gi\"\n        properties:\n          azureFile:\n            secretName: \"spm-persistence-secret\"\n            shareName: \"file-share-smb\"\n            readOnly: false\n        mountPoint: '/tmp/persistence'\n        jmxstats:\n          ## Parameters of the JMX Stats to be persisted on the PVC\n          # The property timerPeriod sets the value curam.jmx.output_statistics_timer_period in milliseconds\n          enabled: false\n          timerPeriod: 60000\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n      <Tab label=\"Azure Blob Storage\" mdxType=\"Tab\">\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <p>{`To archive data persistently through `}<a parentName=\"p\" {...{\n                \"href\": \"https://learn.microsoft.com/en-us/azure/aks/azure-blob-csi?tabs=Blobfuse\"\n              }}>{`Azure Blob Storage`}</a>{`, prepare the following prerequisites in the Kubernetes cluster and in your Azure subscription:`}</p>\n            <ul>\n              <li parentName=\"ul\">{`On Azure, create a storage account of type Premium`}</li>\n              <li parentName=\"ul\">{`Within the storage account, create a Azure Blob Storage instance, and take note of the name as “AccountName”`}</li>\n              <li parentName=\"ul\">{`In the Azure Blob Storage instance, in the Access Keys section, create a new key, and take note of the name as “AccountKey” (alternatively create a SAS token)`}</li>\n              <li parentName=\"ul\">{`Navigate to the Azure Blob Storage instance, create a container, and take note of the name as “blob-container”`}</li>\n              <li parentName=\"ul\">{`Encode the values of “AccountName” and “AccountKey” (or SAS token) in Base64 and add the following section to your override-values.yaml file with the correct values inputted`}</li>\n              <li parentName=\"ul\">{`Enter the properties as illustrated in the example below`}</li>\n            </ul>\n            <InlineNotification kind='warning' mdxType=\"InlineNotification\">\n              <p><strong parentName=\"p\">{`NOTE`}</strong>{` Azure Blob Storage is not supported on the Openshift platform`}</p>\n            </InlineNotification>\n          </Column>\n        </Row>\n        <Row mdxType=\"Row\">\n          <Column mdxType=\"Column\">\n            <pre><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\",\n                \"metastring\": \"path=override-values.yaml\",\n                \"path\": \"override-values.yaml\"\n              }}>{`---\nglobal:\n  apps:\n    common:\n      persistence:\n        ## Persistence volume to store data (such as non-log files)\n        enabled: false\n        ## If enabled, creates a PV and PVC to connect to Azure Blob Storage container\n        credentials:\n          azurestorageaccountname: \"AccountName (encoded in Base64)\"\n          azurestorageaccountkey: \"AccountKey (encoded in Base64)\"\n        storageClassName: \"azureblob-fuse-premium\"\n        storageCapacity: \"10Gi\"\n        storageAccessModes: \"ReadWriteMany\"\n        properties:\n          persistentVolumeReclaimPolicy: 'Delete'\n          storageClassName: 'azureblob-fuse-premium'\n          mountOptions:\n            - -o allow_other\n            - --file-cache-timeout-in-seconds=120\n          csi:\n            driver: 'blob.csi.azure.com'\n            readOnly: false\n            volumeHandle: \"pv-handle-unique-id\"\n            volumeAttributes:\n              containerName: \"blob-container\"\n              isHnsEnabled: \"true\"\n              protocol: fuse2\n            nodeStageSecretRef:\n              name: \"spm-persistence-secret\"\n              namespace: \"my-namespace\"\n        jmxstats:\n          ## Parameters of the JMX Stats to be persisted on the PVC\n          # The property timerPeriod sets the value curam.jmx.output_statistics_timer_period in milliseconds\n          enabled: false\n          timerPeriod: 60000\n`}</code></pre>\n          </Column>\n        </Row>\n      </Tab>\n    </Tabs>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","Tabs","Tab","Row","Column","InlineNotification","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","Object","assign","mdxType","parentName","label","kind","isMDXComponent"],"sourceRoot":""}